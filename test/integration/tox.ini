[tox]
envlist = integration-tests, flake8
skipsdist = True

[testenv]
skip_install = True
deps = -rpipenv.txt
commands =
    pipenv install --skip-lock
    pipenv run pytest -v --verify-base-url --driver Remote --capability browserName firefox --host selenium --html=send-test.html --self-contained-html {posargs}

[testenv:flake8]
commands =
    pipenv install --skip-lock
    pipenv run flake8 {posargs:.}

[flake8]
exclude = .eggs,.tox,docs,node_modules

[pytest]
base_url = http://web:1443
sensitive_url = mozilla\.(com|org)
